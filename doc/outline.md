---
title: "네트워크 게임의 개요"
---

- 네트워크 멀티플레이의 개념은 대중적으로 받아들여진 것은 1990년대 이후이다.
- 1970년대 초기 네트워크부터 지금의 대규모 산업으로 이르기까지의 역사를 소개.
- 1990년대 대표 네트워크 게임: `스타시즈: 트라이브스`와 `에이지 오브 엠파이어`의 아키텍처를 소개.

## 멀티플레이어 게임의 간추린 역사

1. 로컬 멀티플레이어 게임(1958~)

   - 초창기 비디오 게임.
   - 한 대의 컴퓨터에 둘 이상의 플레이어가 같이 즐길 수 있게 고안됨

2. 초기 네트워크 멀티플레이어 게임(1973~)

   - 둘 이상의 컴퓨터가 각각 연결되어 게임 세션을 이룬다.
     > ex. Age of empire(에이지 오브 엠파이어)

3. 멀티 유저 던전, MUD(Multi-User Dungeon) 게임(1987~)

   - 보통 텍스트 기반 게임.
   - 여러 플레이어가 같은 가상 공간에 서로 동시에 접속해 즐기는 형태의 멀티플레이어 게임
   - |     ex. 쥬라기 공원(MUD)      |
     | :---------------------------: |
     | ![MUD](./res/outline/mud.png) |

4. 랜, AN(Local Area Network) 게임(1993~)

   - 가까운 지역 내에서 서로 연결된 컴퓨터의 네트워크 게임
   - |          ex. Doom(둠)           |
     | :-----------------------------: |
     | ![Doom](./res/outline/doom.png) |

5. 온라인 게임(1996~)

   - 대형 통신망을 통해 멀리 떨어진 컴퓨터끼리 연결해 플레이하는 것
     > ex. Quake(퀘이크), Unreal(언리얼)

6. MMO 게임(1997~)

   - 하나의 게임 세션에 수백, 수천, 수만 명의 플레이어가 동시에 참여
     > ex. Ultima online(울티마 온라인), Everquest(에버퀘스트), World of warcraft(월드 오브 워크래프트)

7. 모바일 네트워크 게임(2009~)
   - 보통 비동기식(턴제)으로 구현.
     > Words with friends(워즈 위드 프렌즈)

---

## 스타시즈: 트라이브스

- 1998년 말에 출시된 SF 장르의 FPS 게임.
- 당시에는 인터넷을 전화 접속으로 하던 시절.
- 효율성 문제로 비신뢰성(UDP) 프로토콜을 사용.
  > 네트워크로 보낸 데이터가 도착한다는 보장이 없음.
- 데이터 전송 구분
  - |          전달 미보장 데이터          |                 전달 보장 데이터                  |        최신 상태 데이터        |           특급 전달 보장 데이터           |
    | :----------------------------------: | :-----------------------------------------------: | :----------------------------: | :---------------------------------------: |
    | 게임에서 그다지 중요하지 않은 데이터 | 게임에서 중요하고, 수신과 순서 보장 가능한 데이터 | 최신 상태여야 의미 있는 데이터 | 최우선으로 보내야 하고 가장 중요한 데이터 |
    |                                      |        ex) "Player가 총을 발사했다" 이벤트        |        ex) Player의 HP         |          ex) Player의 위치 정보           |
- 클라이언트-서버 모델을 사용
  - |                    네트워킹 모델                    |
    | :-------------------------------------------------: |
    | ![tribes-network](./res/outline/tribes-network.png) |
  - "플랫폼 패킷 모듈"
    - 유일하게 플랫폼에 종속적인 계층
    - 표준 소켓 API를 래핑(Wrapping)
  - "연결 관리자"
    - 두 컴퓨터 사이의 연결을 추상화
    - DSN(Delivery Status Notification) 보장: 맡긴 패킷이 전달되었는지 여부 전달
      > ack에 따라 비트 필드를 이용한 `sliding window` 기법으로 구현
  - "스트림 관리자"
    - 어떤 데이터(이동, 이벤트, 고스트)를 보낼지 결정한 후 "연결 관리자"에 전달 후, 각 상위 관리자들에게 전달되었는지 알려줌
    - 최대 데이터 전송률, 전송 주기, 패킷 크기 조절
      > 트라이브스의 논문에서는 사용자가 28.8 kbps 모뎀을 쓰는 경우 초당 2KB 정도 패킷 전송률을 잡는다.
    - 데이터 전송 요청의 우선순위를 관리
      > 대역폭이 제한된 상황의 우선순위: "이동 관리자" > "이벤트 관리자" > "고스트 관리자"
  - "이벤트 관리자"
    - 게임 시뮬레이션 중 발생하는 이벤트의 대기열을 관리(= 간이 RPC=Remote Procedure Call)
    - 각 이벤트의 우선순위를 결정
  - "고스트 관리자"
  - "이동 관리자"
  - "기타 시스템"

---

## 복습 문제

1. 로컬 멀티플레이어 게임과 네트워크 멀티플레이어 게임의 차이?
   - 로컬 멀티플레이어 게임: 한 대의 컴퓨터에서 둘 이상의 플레이어가 같이 게임할 수 있도록 고안된 게임
   - 네트워크 멀티플레이어 게임:둘 이상의 컴퓨터가 연결되어 게임 세션을 이룬 게임
2. 로컬 네트워크 연결의 세 가지 예시?
   - 직렬 포트로 서로 연결
   - 모뎀을 이용해 전화망으로 서로 연결
   - 이더넷으로 연결
3. 랜에서 동작하는 게임을 인터넷에서도 동작하게 하려면 어떤 점을 주로 고려하는지?
   - 레이턴시, 네트워크로 데이터를 전송하면서 발생하는 시간 지연
4. 머드 게임은 무엇이고, 추후 어떤 장르로 되는지?
   - 머드 게임은 여러 플레이어가 같은 가상 공간에 서로 동시에 접속해서 즐기는 형태의 멀티플레이억 게임
   - 추후에 그래픽이 추가된 MMORPG 게임으로 진화한다.
5. 트라이브스 모델에서 신뢰성이 보장되는 시스템은 어떤 것들이 있는지?
6. 패킷이 누락되었을 때, 트라이브스의 고스트 관리자는 어떻게 최소한의 동작으로 송신을 재시도하는지?
7. 에이지 오브 엠파이어의 P2P 모델에서 턴 타이머를 사용하는 이유는? 네트워크상 다른 피어에게 전달하는 정보는 무엇인지?
